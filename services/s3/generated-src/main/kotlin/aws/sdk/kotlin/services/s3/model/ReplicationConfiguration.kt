// Code generated by smithy-kotlin-codegen. DO NOT EDIT!

package aws.sdk.kotlin.services.s3.model



/**
 * A container for replication rules. You can add up to 1,000 rules. The maximum size of a
 * replication configuration is 2 MB.
 */
class ReplicationConfiguration private constructor(builder: BuilderImpl) {
    /**
     * The Amazon Resource Name (ARN) of the Identity and Access Management (IAM) role that
     * Amazon S3 assumes when replicating objects. For more information, see <a href="https://docs.aws.amazon.com/AmazonS3/latest/dev/replication-how-setup.html">How to Set Up
     * Replication in the Amazon S3 User Guide.
     */
    val role: String? = builder.role
    /**
     * A container for one or more replication rules. A replication configuration must have at
     * least one rule and can contain a maximum of 1,000 rules.
     */
    val rules: List<ReplicationRule>? = builder.rules

    companion object {
        @JvmStatic
        fun fluentBuilder(): FluentBuilder = BuilderImpl()

        internal fun builder(): DslBuilder = BuilderImpl()

        operator fun invoke(block: DslBuilder.() -> kotlin.Unit): ReplicationConfiguration = BuilderImpl().apply(block).build()

    }

    override fun toString(): kotlin.String = buildString {
        append("ReplicationConfiguration(")
        append("role=$role,")
        append("rules=$rules)")
    }

    override fun hashCode(): kotlin.Int {
        var result = role?.hashCode() ?: 0
        result = 31 * result + (rules?.hashCode() ?: 0)
        return result
    }

    override fun equals(other: kotlin.Any?): kotlin.Boolean {
        if (this === other) return true
        if (javaClass != other?.javaClass) return false

        other as ReplicationConfiguration

        if (role != other.role) return false
        if (rules != other.rules) return false

        return true
    }

    fun copy(block: DslBuilder.() -> kotlin.Unit = {}): ReplicationConfiguration = BuilderImpl(this).apply(block).build()

    interface FluentBuilder {
        fun build(): ReplicationConfiguration
        /**
         * The Amazon Resource Name (ARN) of the Identity and Access Management (IAM) role that
         * Amazon S3 assumes when replicating objects. For more information, see <a href="https://docs.aws.amazon.com/AmazonS3/latest/dev/replication-how-setup.html">How to Set Up
         * Replication in the Amazon S3 User Guide.
         */
        fun role(role: String): FluentBuilder
        /**
         * A container for one or more replication rules. A replication configuration must have at
         * least one rule and can contain a maximum of 1,000 rules.
         */
        fun rules(rules: List<ReplicationRule>): FluentBuilder
    }

    interface DslBuilder {
        /**
         * The Amazon Resource Name (ARN) of the Identity and Access Management (IAM) role that
         * Amazon S3 assumes when replicating objects. For more information, see <a href="https://docs.aws.amazon.com/AmazonS3/latest/dev/replication-how-setup.html">How to Set Up
         * Replication in the Amazon S3 User Guide.
         */
        var role: String?
        /**
         * A container for one or more replication rules. A replication configuration must have at
         * least one rule and can contain a maximum of 1,000 rules.
         */
        var rules: List<ReplicationRule>?

        fun build(): ReplicationConfiguration
    }

    private class BuilderImpl() : FluentBuilder, DslBuilder {
        override var role: String? = null
        override var rules: List<ReplicationRule>? = null

        constructor(x: ReplicationConfiguration) : this() {
            this.role = x.role
            this.rules = x.rules
        }

        override fun build(): ReplicationConfiguration = ReplicationConfiguration(this)
        override fun role(role: String): FluentBuilder = apply { this.role = role }
        override fun rules(rules: List<ReplicationRule>): FluentBuilder = apply { this.rules = rules }
    }
}
